/*! jQuery.EqualRowHeights (https://github.com/geckotang/jQuery.EqualRowHeights)
 * lastupdate: 2014-02-06
 * version: 0.0.0
 * author: 'Geckotang' Shotaro Sakamaki
 * License: MIT */
(function(e){var t=function(){var e=this;return e.option={selector:".js-equalrowheights",resize:!0,onBeforeRefresh:function(){},onAfterRefresh:function(){}},e.init.apply(e,arguments),e};return t.prototype={init:function(t){var n=this;return n.option=e.extend({},n.option,t),n.el=e(t.selector),n._eventNS=".EqualRowHeights"+e.now(),n.el.length>0&&(n.refresh(),n._eventify()),n},destroy:function(){var t=this;return t.reset(),t.option.resize&&e(window).off(t._eventNS),t},reset:function(){var e=this;return e.el.css("height",""),e},refresh:function(){var t=this,n={};return t.option.onBeforeRefresh(),t.reset(),e.each(t.el,function(t,r){var o=e(r),i=o.offset().top;n["r"+i]=n["r"+i]||{items:[],heights:[]},n["r"+i].items.push(o),n["r"+i].heights.push(o.outerHeight())}),e.each(n,function(t,n){var r=Math.max.apply(null,n.heights);console.log(r),e.each(n.items,function(t,n){var o=e(n),i=parseInt(o.css("padding-top"),10)+parseInt(o.css("padding-bottom"),10);o.css("height",""),o.height(r-i)})}),t.option.onAfterRefresh(),t},_eventify:function(){var t=this;return t.option.resize&&e(window).on("resize"+t._eventNS,e.proxy(t.refresh,t)),t}},e.EqualRowHeights=t})(window.jQuery||window.$);